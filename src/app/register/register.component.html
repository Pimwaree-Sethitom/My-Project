<div class="form-box">
  <header>ลงทะเบียน</header>
  <form [formGroup]="registerForm" (ngSubmit)="register()">
    
    <!-- Autocomplete นักวิจัย -->
    <div class="field input autocomplete-container">
      <label for="name">ชื่อ-นามสกุล</label>
      <input
        type="text"
        id="name"
        name="name"
        [(ngModel)]="searchResearchers"
        (input)="SearchResearchers()"
        [ngModelOptions]="{ standalone: true }"
        autocomplete="off"
        required
      />
      <ul 
        *ngIf="searchResearchers && filteredResearchers.length > 0" 
        class="autocomplete-list">
        <li 
          *ngFor="let researcher of filteredResearchers" 
          (click)="selectResearcher(researcher)" 
          class="autocomplete-item">
          {{ researcher.name }}
        </li>
      </ul>
    </div>

    <!-- Email -->
    <div class="field input">
      <label for="email">อีเมล</label>
      <input
        type="email"
        id="email"
        formControlName="email"
        required
      />
    </div>

    <!-- Password -->
<div class="field input password-field">
  <label for="password">รหัสผ่าน</label>
  <div class="password-wrapper">
    <input
      [type]="showPassword ? 'text' : 'password'"
      id="password"
      formControlName="password"
      required
    />
    <button type="button" class="toggle-btn" (click)="togglePasswordVisibility()">
      {{ showPassword ? 'ซ่อน' : 'แสดง' }}
    </button>
  </div>
</div>

<!-- Confirm Password -->
<div class="field input password-field">
  <label for="confirmPassword">ยืนยันรหัสผ่าน</label>
  <div class="password-wrapper">
    <input
      [type]="showConfirmPassword ? 'text' : 'password'"
      id="confirmPassword"
      formControlName="confirmPassword"
      required
    />
    <button type="button" class="toggle-btn" (click)="toggleConfirmPasswordVisibility()">
      {{ showConfirmPassword ? 'ซ่อน' : 'แสดง' }}
    </button>
  </div>
</div>


    <!-- Submit Button -->
    <div class="field input">
      <input
        class="btn submit"
        type="submit"
        value="ลงทะเบียน"
        [disabled]="registerForm.invalid"
      />
    </div>

  </form>
</div>
